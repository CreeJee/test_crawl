{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">DC Inside Gallery Crawler</h1>
<p class="lead">DC Inside 갤러리의 게시물과 댓글을 크롤링하고 관리하는 웹 애플리케이션입니다.</p>
<div class="row mt-4">
    <div class="col-md-6">
        <h2>최근 크롤링 통계</h2>
        <ul class="list-group">
            <li class="list-group-item">총 게시물 수: <span id="total-posts">로딩 중...</span></li>
            <li class="list-group-item">총 댓글 수: <span id="total-comments">로딩 중...</span></li>
            <li class="list-group-item">마지막 크롤링: <span id="last-crawled">로딩 중...</span></li>
        </ul>
    </div>
    <div class="col-md-6">
        <h2>빠른 링크</h2>
        <div class="list-group">
            <a href="/posts" class="list-group-item list-group-item-action">게시물 목록 보기</a>
            <a href="/admin" class="list-group-item list-group-item-action">관리자 페이지</a>
        </div>
    </div>
</div>

<script>
    fetch('/admin/crawling_status')
        .then(response => response.json())
        .then(data => {
            document.getElementById('total-posts').textContent = data.total_posts;
            document.getElementById('total-comments').textContent = data.total_comments;
            document.getElementById('last-crawled').textContent = data.last_crawled;
        });
</script>
{% endblock %}
